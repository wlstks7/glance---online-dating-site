/* Elfsight (c) elfsight.com */
!function(e,t,r){function n(){}function a(e){this._clientId=e,this._lastPagination={},this._initialPagination={},this._loading=!1}function i(t,r){var i=this;i._id=t,i._structure={},i._structure.$root=e(r),i._structure.style=null,i._params={},i._source={},i._data={},i._data.feedCache=[],i._curBreakpoint=null,i._grid=null,i._prevGrid=null,i._state="loading",i._properties={},i._curLangData=null,i._api=null,i._sizesHash=null,i._oldSizesHash=null,i._defineParams(),i._defineSource(),i._defineLanguage(),i._properties.analytics="true"!==i._params.disableAnalytics,i._properties.analytics&&(i._analytics=new n),i._api=new a(i._params.clientId)}function o(){return e&&e.fn&&e.fn.jquery?void e(s):!1}function s(){e("[data-il]").each(function(e,t){i.init(l++,t).run()})}var l=0;t.Array.prototype.filter||(t.Array.prototype.filter=function(e){"use strict";if(this===r||null===this)throw new t.TypeError;var n=t.Object(this),a=n.length>>>0;if("function"!=typeof e)throw new t.TypeError;for(var i=[],o=arguments.length>=2?arguments[1]:void 0,s=0;a>s;s++)if(s in n){var l=n[s];e.call(o,l,s,n)&&i.push(l)}return i}),n.prototype=function(){},n.prototype._url="#",n.prototype.send=function(r,n){var a,i={};r&&"[object String]"===Object.prototype.toString.call(r)&&(i.event=r,i.data=e.isPlainObject(n)?n:null,t.Image&&(a=new t.Image,a.src=this._url+"?"+e.param(i)))},a.prototype=function(){},a.prototype._apiUrl="https://api.instagram.com/v1",a.prototype.hasNextPage=function(r){var n=this;return e.isArray(r)||(r=[r]),t.Object.keys(this._lastPagination).some(function(e){return!!~r.indexOf(e)&&n._lastPagination[e]&&n._lastPagination[e].next_url})},a.prototype._hasInitialPage=function(r){var n=this;return e.isArray(r)||(r=[r]),t.Object.keys(this._initialPagination).some(function(e){return!!~r.indexOf(e)&&n._initialPagination[e]&&n._initialPagination[e].next_url})},a.prototype.resetPagination=function(t){var r=this;e.isArray(t)||(t=[t]),e.each(t,function(e){r._initialPagination[e]&&(r._lastPagination[e]=r._initialPagination[e])})},a.prototype.isLoading=function(){return this._loading},a.prototype.get=function(t,n,a){var i=null,o=null,s=null;return a=a===r?!0:!!a,n=e.isPlainObject(n)?n:{},n.client_id=this._clientId,t=(a?this._apiUrl:"")+t,o=e.Deferred(),i=e.ajax({url:t,data:n,dataType:"jsonp"}),s={originalPromise:i},i.done(function(t){s.originalResponseData=t,200!==t.meta.code?(e.extend(!0,s,{meta:t.meta}),o.reject(s)):(e.extend(!0,s,{data:t.data}),o.resolve(s))}),o.promise()},a.prototype.getUser=function(t){var r=null,n=this;return r=e.Deferred(),t=e.trim(t),n.get("/users/search",{q:t}).done(function(e){e.data=e.data.filter(function(e){return e.username.toLowerCase()===t.toLowerCase()}),r.resolve(e)}).fail(function(){r.reject()}),r.promise()},a.prototype.getProfile=function(e){return e=t.parseInt(e,10),this.get("/users/"+e)},a.prototype.getRecentUserMedia=function(r,n,a){var i=null,o=this;return i=e.Deferred(),r=t.parseInt(r,10),a=t.parseInt(a,10),this.get("/users/"+r+"/media/recent",{count:n?33:a}).done(function(t){var s;n&&e.isArray(n)&&(t.data=t.data.filter(function(e){return e.tags&&e.tags.some(function(e){return!!~n.indexOf(e)})})),s=t.data,o._fetchMedia(t,i,s,a,n,null,r)}).fail(function(e){i.reject(e)}),i},a.prototype.getRecentTagMedia=function(r,n,a){var i=null,o=this;return i=e.Deferred(),r=e.trim(r),a=t.parseInt(a,10),this.get("/tags/"+r+"/media/recent",{count:a}).done(function(t){var s;n&&e.isArray(n)&&(t.data=t.data.filter(function(e){return!~n.indexOf(e.user.username)})),s=t.data,o._fetchMedia(t,i,s,a,null,n,r)}).fail(function(e){i.reject(e)}),i},a.prototype.getRecentTagsMedia=function(t,r,n){var a=null,i=[],o=this;return 1===t.length?o.getRecentTagMedia(t[0],r,n):(t=t.map(function(t){return e.trim(t)}),t=t.filter(function(e){return!!e}),a=e.Deferred(),e.each(t,function(e,t){i.push(o.getRecentTagMedia(t,n))}),e.when.apply(e,i).done(function(){var t=[],r=null;e.each(arguments,function(e,n){r||(r=n),n&&n.data&&(t=t.concat(n.data))}),t=t.filter(function(e){return!t.some(function(t){return t!==e&&e.id===t.id})}),t=t.sort(function(e,t){return e.created_time<t.created_time?1:e.created_time>t.created_time?-1:0}),t=t.slice(0,n),r&&r.data&&(r.data=t),a.resolve(r)}).fail(function(e){a.reject(e)}),a.promise())},a.prototype.loadNextPage=function(t,r,n,a){var i=[],o=null,s=this;return o=e.Deferred(),this._loading=!0,s.hasNextPage(t)?(t=e.isArray(t)?t:[t],1===t.length?this.get(s._lastPagination[t[0]].next_url,{count:r||n?33:a},!1).done(function(i){var l;r&&"string"==typeof r&&(i.data=i.data.filter(function(e){return e.tags&&!!~e.tags.indexOf(r)})),n&&e.isArray(n)&&(i.data=i.data.filter(function(e){return!~n.indexOf(e.user.username)})),l=i.data,s._fetchMedia(i,o,l,a,r,n,t)}).fail(function(e){o.reject(e)}):(e.each(t,function(t,r){var l=null;s.hasNextPage(r)&&(l=e.Deferred(),s.get(s._lastPagination[r].next_url,{count:a},!1).done(function(e){var t;t=e.data,s._fetchMedia(e,o,t,a,null,n,r)}).fail(function(e){o.reject(e)}),i.push(l))}),e.when.apply(e,i).done(function(){var t=[],r=null;e.each(arguments,function(e,n){r||(r=n),n&&n.data&&(t=t.concat(n.data))}),t=t.filter(function(e){return!t.some(function(t){return t!==e&&e.id===t.id})}),t=t.sort(function(e,t){return e.created_time<t.created_time?1:e.created_time>t.created_time?-1:0}),t=t.slice(0,a),r.data=t,o.resolve(r)}).fail(function(e){o.reject(e)}))):o.reject(),o.always(function(){s._loading=!1}),o.promise()},a.prototype._fetchMedia=function(t,r,n,a,i,o,s){var l=this;t&&t.originalResponseData&&(a-=t.data.length+1,s&&(l._lastPagination[s]=t.originalResponseData.pagination),s&&!l._hasInitialPage(s)&&(l._initialPagination[s]=t.originalResponseData.pagination),a>0&&t.originalResponseData.pagination&&t.originalResponseData.pagination.next_url?l.get(t.originalResponseData.pagination.next_url,{count:i||o?33:a},!1).done(function(t){i&&e.isArray(i)&&(t.data=t.data.filter(function(e){return e.tags&&e.tags.some(function(e){return!!~i.indexOf(e)})})),o&&e.isArray(o)&&(t.data=t.data.filter(function(e){return!~o.indexOf(e.user.username)})),n=n.concat(t.data),l._fetchMedia(t,r,n,a,i,o,s)}).fail(function(e){r.reject(e)}):(t.data=n,r.resolve(t)))},i.prototype=function(){},i.REGEX_HASHTAG=/[,\s]+/i,i.VERSION="1.5.0",i.prototype._defaultParams={clientId:"",source:"",username:"",hashtag:"",lang:"en",bgColor:"#285989",contentBgColor:"#f8f8f8",fontColor:"#ffffff",width:"270px",height:"350px",imageSize:"medium",scroll:"false",ban:"",showHeading:"true",disableAnalytics:"false"},i.prototype._templates={css:"#instaLink_{$id} {width: {$width}; height: {$height}; } #instaLink_{$id}, #instaLink_{$id} .instalink-feed-wrapper { background: {$contentBgColor} } #instaLink_{$id} .instalink-header, #instaLink_{$id} a.instalink-panel-subscribe {background-color: {$bgColor}; } #instaLink_{$id} .instalink-header-name, #instaLink_{$id} a.instalink-panel-subscribe {color: {$fontColor}; } #instaLink_{$id} .instalink-feed-post {width: {$postWidth}; height: {$postHeight}; } #instaLink_{$id} .instalink-feed-post span {width: {$postImgWidth}; height: {$postImgHeight}; margin-top: {$postImgMTop}; margin-left: {$postImgMLeft} } #instaLink_{$id} .instalink-feed-loader { width: {$width}; }",cap:'<div class="instalink-cap"></div>',error:'<div class="instalink-alert">An error occurred. See console for the details.</div>',content:'<div class="instalink-content"></div>',headerUser:'<a class="instalink-header" href="{$url}" target="_blank"> <img class="instalink-header-pic" src="{$pic}" alt="{$name}"/> <span class="instalink-header-name">{$name}</span> <span class="instalink-header-logo"></span> </a>',headerTag:'<div class="instalink-header"> <span class="instalink-header-name">{$name}</span> <span class="instalink-header-logo"></span> </div>',panel:'<div class="instalink-panel"><span class="instalink-panel-posts instalink-panel-counter"> <i class="instalink-panel-counter-value">{$posts}</i><span class="instalink-panel-counter-label">{~posts}</span> </span><span class="instalink-panel-subsribers instalink-panel-counter"> <i class="instalink-panel-counter-value">{$followers}</i> <span class="instalink-panel-counter-label">{~followers}</span> </span> <span class="instalink-panel-following instalink-panel-counter"> <i class="instalink-panel-counter-value">{$following}</i> <span class="instalink-panel-counter-label">{~following}</span> </span> <a class="instalink-panel-subscribe" href="{$url}" target="_blank">{~follow}</a> </div>',scrollbar:'<div class="instalink-scrollbar"></div>',scrollbarSlider:'<div class="instalink-scrollbar-slider"></div>',feedWrapper:'<div class="instalink-feed-wrapper">',feedInner:'<div class="instalink-feed-inner"></div>',feedContainer:'<div class="instalink-feed-container"></div>',feed:'<div class="instalink-feed"></div>',feedLoader:'<div class="instalink-feed-loader"></div>',post:'<a href="{$url}" target="_blank" class="instalink-feed-post"> <span><img src="{$pic}" alt=""></span> </a>',consoleError:"[#InstaLink_{$id}: {$message}]"},i.prototype._breakpoints={small:[{minWidth:1970,rowLength:21},{minWidth:1870,rowLength:21},{minWidth:1870,rowLength:20},{minWidth:1770,rowLength:19},{minWidth:1670,rowLength:18},{minWidth:1570,rowLength:17},{minWidth:1470,rowLength:16},{minWidth:1370,rowLength:15},{minWidth:1270,rowLength:14},{minWidth:1170,rowLength:13},{minWidth:1070,rowLength:12},{minWidth:970,rowLength:11},{minWidth:870,rowLength:10},{minWidth:770,rowLength:9},{minWidth:670,rowLength:8},{minWidth:570,rowLength:7},{minWidth:470,rowLength:6},{minWidth:370,rowLength:5},{minWidth:90,rowLength:4}],medium:[{minWidth:1980,rowLength:16},{minWidth:1850,rowLength:15},{minWidth:1720,rowLength:14},{minWidth:1590,rowLength:13},{minWidth:1460,rowLength:12},{minWidth:1330,rowLength:11},{minWidth:1200,rowLength:10},{minWidth:1070,rowLength:9},{minWidth:940,rowLength:8},{minWidth:810,rowLength:7},{minWidth:680,rowLength:6},{minWidth:550,rowLength:5},{minWidth:520,rowLength:5},{minWidth:390,rowLength:4},{minWidth:90,rowLength:3}],large:[{minWidth:1920,rowLength:8},{minWidth:1660,rowLength:8},{minWidth:1400,rowLength:7},{minWidth:1140,rowLength:6},{minWidth:980,rowLength:5},{minWidth:720,rowLength:4},{minWidth:460,rowLength:3},{minWidth:90,rowLength:2}],xlarge:[{minWidth:2200,rowLength:6},{minWidth:1800,rowLength:5},{minWidth:1400,rowLength:4},{minWidth:1200,rowLength:3},{minWidth:600,rowLength:2},{minWidth:90,rowLength:1}]},i.prototype._i18n={ru:{posts:"публикации",followers:"подписчики",following:"подписки",follow:"Подписаться"},en:{posts:"posts",followers:"followers",following:"following",follow:"Follow"},de:{posts:"beiträge",followers:"abonnenten",following:"abonnement",follow:"Folgen"},nl:{posts:"berichten",followers:"volgers",following:"volgend",follow:"Volgen"},es:{posts:"publicaciones",followers:"seguidores",following:"seguidos",follow:"Seguir"},fr:{posts:"publications",followers:"abonnés",following:"abonnement",follow:"S'abonner"},pl:{posts:"posty",followers:"obserwujący",following:"obserwujacych",follow:"Obserwuj"},sv:{posts:"inlägg",followers:"följare",following:"följer",follow:"Följ"},"pt-BR":{posts:"publicações",followers:"seguidores",following:"seguidos",follow:"Seguir"},tr:{posts:"gönderiler",followers:"takipçiler",following:"takip edilen",follow:"Takip et"},"zh-HK":{posts:"帖子",followers:"天注者",following:"天注",follow:"天注"},ko:{posts:"게시물",followers:"팔로워",following:"팔로잉",follow:"팔로우"},ja:{posts:"投稿",followers:"フォロワー",following:"フォロワー中",follow:"フォローする"},id:{posts:"kiriman",followers:"pengikut",following:"mengikuti",follow:"Ikuti"}},i.init=function(e,t){return new i(e,t)},i.formatNumber=function(e){var r=null,n=null,a=null;return 1e3>e?e:(e>1e6?(n=e/1e6,r="m"):e>1e3&&(n=e/1e3,r="k"),t.parseInt(n,10)!==n&&(n=n.toFixed(1)),a=n+r)},i.prototype._sendAnalytics=function(){var e=this;e._analytics&&e._analytics.send("init",{params:e._params,version:i.VERSION})},i.prototype._defineLanguage=function(){var e=this;e._curLangData=e._i18n[e._params.lang]||e._i18n.en},i.prototype._defineParams=function(){var t=this;e.each(t._defaultParams,function(r,n){var a;a="data-il-"+r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),t._params[r]=e.trim(t._structure.$root.attr(a))||n}),t._properties.scroll="true"===t._params.scroll},i.prototype._defineSource=function(){var e=null,t=null,r=this;r._params.source&&!r._params.username&&(e=r._params.source.substr(0,1),~["@","#"].indexOf(e)?(t=r._params.source.substr(1),"@"===e?r._params.username=t:r._params.hashtag=[t]):r._params.username=r._params.source),r._params.username?(r._source.type="user",r._source.name=r._params.username,r._params.hashtag&&(r._source.hashfilter=r._params.hashtag.split(i.REGEX_HASHTAG))):r._params.hashtag&&(r._source.type="tag",r._source.tags=r._params.hashtag.split(i.REGEX_HASHTAG)),r._params.ban&&(r._source.banlist=r._params.ban.split(i.REGEX_HASHTAG))},i.prototype._updateStyles=function(){var r=null,n=this;n._structure.$style||(n._structure.$style=e("<style>",{type:"text/css"}),n._structure.$root.after(n._structure.$style)),n._grid&&(r=n._grid.cellWidth>n._grid.cellHeight?.9*n._grid.cellHeight:.9*n._grid.cellWidth,r=t.parseInt(r,10)),n._structure.$style.html(n._compileTemplate("css",{id:n._id,width:n._params.width,height:n._params.height,bgColor:n._params.bgColor,contentBgColor:n._params.contentBgColor,fontColor:n._params.fontColor,postWidth:n._grid?n._grid.cellWidth+"px":"initial",postHeight:n._grid?n._grid.cellHeight+"px":"initial",postImgWidth:n._grid?r+"px":"initial",postImgHeight:n._grid?r+"px":"initial",postImgMTop:n._grid?t.parseInt(-r/2,10)+"px":0,postImgMLeft:n._grid?t.parseInt(-r/2,10)+"px":0}))},i.prototype._compileTemplate=function(r,n){var a=null,i=null,o=this;return a=o._templates[r],a&&"[object String]"===t.Object.prototype.toString.call(a)?(i=e.isPlainObject(n)?a.replace(/\{\$([\w\W]+?)}/g,function(e,t){return n[t]}):a,e.isPlainObject(o._curLangData)&&(i=i.replace(/\{~([\w\W]+?)}/g,function(e,t){return o._curLangData[t]})),i):null},i.prototype._setState=function(e){~["loading","ready","error"].indexOf(e)&&(this._state=e,this._structure.$root.removeClass("instalink-ready instalink-loading instalink-error").addClass("instalink-"+e))},i.prototype._prepare=function(){var t=this;"false"===t._params.showHeading&&t._structure.$root.addClass("instalink-hide-heading"),t._structure.$root.addClass("instalink").addClass("instalink-"+t._source.type).addClass("instalink-image-size-"+t._params.imageSize).attr("id","instaLink_"+t._id),t._properties.scroll&&t._structure.$root.addClass("instalink-scroll"),t._structure.$root.empty(),t._structure.$cap=e(t._templates.cap),t._structure.$root.append(t._structure.$cap),t._structure.$error=e(t._templates.error),t._structure.$root.append(t._structure.$error),t._structure.$content=e(t._templates.content),t._structure.$root.append(t._structure.$content),t._structure.$feedWrapper=e(t._templates.feedWrapper),t._structure.$content.append(t._structure.$feedWrapper),t._setState(t._state),t._defineBreakpoint(),t._defineGrid(),t._updateStyles(),t._adjust()},i.prototype._defineBreakpoint=function(){var t=null,r=null,n=this;n._breakpoints.hasOwnProperty(n._params.imageSize)&&(r=n._breakpoints[n._params.imageSize]),r&&r.length&&(e.each(r,function(e,r){return t?!1:void(n._structure.$feedWrapper.innerWidth()>r.minWidth&&(t=r))}),t||(t=r[0])),n._curBreakpoint=t},i.prototype._defineGrid=function(){var e={},r=this;r._curBreakpoint&&(r._prevGrid=r._grid,e.width=r._structure.$feedWrapper.innerWidth(),e.height=r._structure.$feedWrapper.innerHeight(),e.columnsCount=r._curBreakpoint.rowLength,e.cellWidth=t.Math.floor(e.width/e.columnsCount),e.rowsCount=t.Math.round(e.height/e.cellWidth),0===e.rowsCount&&(e.rowsCount=1),e.cellHeight=Math.floor(e.height/e.rowsCount),e.rowsCountDefault=e.rowsCount,r._properties.scroll&&(e.rowsCount+=2),e.cellsCount=e.columnsCount*e.rowsCount,e.cellsCountDefault=e.columnsCount*e.rowsCountDefault,r._grid=e)},i.prototype._loadFeed=function(){var t=null,r=this;return t=e.Deferred(),r._grid?(!r._properties.scroll&&r._data.feedCache&&r._data.feedCache.length>=r._grid.cellsCount?(r._data.feed=r._data.feedCache.slice(0,r._grid.cellsCount),t.resolve()):(r._setState("loading"),"user"===r._source.type&&r._data.profile&&r._data.profile.id?r._api.getRecentUserMedia(r._data.profile.id,r._source.hashfilter,r._grid.cellsCount).done(function(e){e&&e.data&&(r._data.feed=e.data,e.data.length>r._data.feedCache.length&&(r._data.feedCache=e.data),r._setState("ready"),t.resolve())}).fail(function(e){e&&e.meta&&e.meta.error_message&&r._log(e.meta.error_type+" | "+e.meta.error_message),t.reject()}):"tag"===r._source.type?r._api.getRecentTagsMedia(r._source.tags,r._source.banlist,r._grid.cellsCount).done(function(e){e&&e.data&&(r._data.feed=e.data,e.data.length>r._data.feedCache.length&&(r._data.feedCache=e.data),r._setState("ready"),t.resolve())}).fail(function(e){e&&e.meta&&e.meta.error_message&&r._log(e.meta.error_type+" | "+e.meta.error_message),t.reject()}):t.reject()),t.promise()):(t.reject(),t.promise())},i.prototype._setListeners=function(){var r=this;e(t).on("resize.instaLink-"+r._id,function(){r._adjust()}),r._structure.$feedContainer.on("scroll",function(){r._scroll()})},i.prototype._scroll=function(){var e=null,t=null,r=null,n=null,a=this;a._properties.scroll&&(n="tag"===a._source.type?a._source.tags:a._data.profile.id,e=a._structure.$feedInner.innerHeight()-a._structure.$feedContainer.innerHeight(),t=a._structure.$feedContainer.scrollTop(),a._showScrollbar(t,e),r=a._params.imageSize.toLowerCase&&"xlarge"===a._params.imageSize.toLowerCase()?0:a._grid.cellHeight,r>=e-t&&a._api.hasNextPage(n)&&!a._api.isLoading()&&a._api.loadNextPage(n,a._source.hashfilter,a._source.banlist,a._grid.cellsCount).done(function(r){a._appendFeed(r.data),a._showScrollbar(t,e)}).fail(function(e){e&&e.meta&&e.meta.error_message&&a._log(e.meta.error_type+" | "+e.meta.error_message)}))},i.prototype._adjust=function(){var e=null,t=this;t._sizesHash=t._structure.$root.width()+"."+t._structure.$root.height(),t._defineBreakpoint(),t._defineGrid(),t._updateStyles(),e=t._structure.$root.innerWidth(),t._structure.$root.removeClass("instalink-small instalink-tiny instalink-medium instalink-large"),e>399?t._structure.$root.addClass("instalink-large"):e>299?t._structure.$root.addClass("instalink-medium"):209>=e?t._structure.$root.addClass("instalink-tiny"):264>=e&&t._structure.$root.addClass("instalink-small"),t._prevGrid&&t._prevGrid.cellsCount===t._grid.cellsCount?t._sizesHash!==t._oldSizesHash&&t.updateFeed():t._loadFeed().done(function(){t.updateFeed()}),t._oldSizesHash=t._sizesHash},i.prototype._showScrollbar=function(r,n){var a=null,i=null,o=this;!o._structure.$feedContainer||o._data.feed.length<o._grid.cellsCountDefault||(o._structure.$scrollbar||(o._structure.$scrollbar=e(o._compileTemplate("scrollbar")),o._structure.$scrollbarSlider=e(o._compileTemplate("scrollbarSlider")),o._structure.$scrollbar.append(o._structure.$scrollbarSlider),o._structure.$feedWrapper.append(o._structure.$scrollbar)),a=o._structure.$feedWrapper.innerHeight()/o._structure.$feedInner.innerHeight()*o._structure.$feedWrapper.innerHeight(),i=r&&n?r/n*(o._structure.$feedWrapper.innerHeight()-a):0,o._structure.$scrollbarSlider.css({height:a,transform:"translate(0, "+i+"px)"}),o._structure.$scrollbar.addClass("visible"),o._scrollbarTimer||t.clearTimeout(o._scrollbarTimer),o._scrollbarTimer=t.setTimeout(function(){o._structure.$scrollbar.removeClass("visible")},700))},i.prototype._log=function(e,n){var a=null;t.console&&"[object Function]"===t.Object.prototype.toString.call(t.console.log)&&(n=n===r?!0:!!n,n&&this._setState("error"),a=this._compileTemplate("consoleError",{id:this._id,message:e}),t.console.log(a))},i.prototype.run=function(){var e=this;e._updateStyles(),e._prepare(),"user"===e._source.type?e._api.getUser(e._source.name).done(function(t){return t.data.length?void e._api.getProfile(t.data[0].id).done(function(r){r.data.id=t.data[0].id,e._data.profile=r.data,e._loadFeed().done(function(){e.updateContent()&&(e._setState("ready"),e._setListeners(),e._sendAnalytics())})}).fail(function(t){t&&t.meta&&t.meta.error_message&&e._log(t.meta.error_type+" | "+t.meta.error_message)}):void e._log("User @"+e._source.name+" is not found.")}).fail(function(t){t&&t.meta&&t.meta.error_message&&e._log(t.meta.error_type+" | "+t.meta.error_message)}):"tag"===e._source.type&&e._loadFeed().done(function(){e.updateContent()&&(e._setState("ready"),e._setListeners(),e._sendAnalytics())})},i.prototype.updateContent=function(){var t=this;return t._data.feed&&t._structure.$content?(t._structure.$content.html(""),t._structure.$feedContainer=e(t._templates.feedContainer),t._structure.$feedInner=e(t._templates.feedInner),t._structure.$feed=e(t._templates.feed),t._structure.$feedInner.append(t._structure.$feed),t._structure.$feedContainer.append(t._structure.$feedInner),t._structure.$feedWrapper.append(t._structure.$feedContainer),t._structure.$content.append(t._structure.$feedWrapper),t._properties.scroll&&(t._structure.$feedLoader=e(t._templates.feedLoader),t._structure.$feedInner.append(t._structure.$feedLoader)),"false"!==t._params.showHeading&&("user"===t._source.type&&t._data.profile?(t._structure.$header=e(t._compileTemplate("headerUser",{name:t._data.profile.username,url:"https://instagram.com/"+t._data.profile.username+"/",pic:t._data.profile.profile_picture})),t._structure.$content.prepend(t._structure.$header),t._structure.$panel=e(t._compileTemplate("panel",{posts:i.formatNumber(t._data.profile.counts.media),followers:i.formatNumber(t._data.profile.counts.followed_by),following:i.formatNumber(t._data.profile.counts.follows),url:"https://instagram.com/"+t._data.profile.username+"/"})),t._structure.$header.after(t._structure.$panel)):"tag"===t._source.type&&(t._structure.$header=e(t._compileTemplate("headerTag",{name:t._source.tags.map(function(e){return"#"+e}).join(", ")})),t._structure.$content.prepend(t._structure.$header))),t.updateFeed()):!1},i.prototype.updateFeed=function(){var t=null,r=this;return r._data.feed&&r._structure.$feed?(t="tag"===r._source.type?r._source.tags:r._data.profile.id,r._api.resetPagination(t),r._api.hasNextPage(t)?r._structure.$root.addClass("instalink-has-pages"):r._structure.$root.removeClass("instalink-has-pages"),r._structure.$feed.html(""),e.each(r._data.feed,function(t,n){var a=null,i=null;i=r._grid.cellWidth>306?n.images.standard_resolution.url:r._grid.cellWidth>150?n.images.low_resolution.url:n.images.thumbnail.url,a=e(r._compileTemplate("post",{url:n.link,pic:i})),"video"===n.type&&a.addClass("instalink-feed-post-video"),r._structure.$feed.append(a)}),r._properties.scroll&&r._showScrollbar(),e("img",r._structure.$feed).unbind("load.instaLink-"+r._id).one("load.instaLink-"+r._id,function(){e(this).closest(".instalink-feed-post").addClass("instalink-feed-post-loaded")}).each(function(){this.complete&&e(this).load()}),!0):!1},i.prototype._appendFeed=function(r){var n=null,a=this;return r&&a._structure.$feed?(n="tag"===a._source.type?a._source.tags:a._data.profile.id,a._api.hasNextPage(n)?a._structure.$root.addClass("instalink-has-pages"):a._structure.$root.removeClass("instalink-has-pages"),e.each(r,function(t,r){var n=null,i=null;i=a._grid.cellWidth>306?r.images.standard_resolution.url:a._grid.cellWidth>150?r.images.low_resolution.url:r.images.thumbnail.url,n=e(a._compileTemplate("post",{url:r.link,pic:i})),"video"===r.type&&n.addClass("instalink-feed-post-video"),a._structure.$feed.append(n)}),e("img",a._structure.$feed).unbind("load.instaLink-"+a._id).one("load.instaLink-"+a._id,function(){var r=e(this);t.setTimeout(function(){r.closest(".instalink-feed-post").addClass("instalink-feed-post-loaded")},100)}).each(function(){this.complete&&e(this).load()}),a._structure.$feedContainer.animate({scrollTop:"+="+a._grid.cellHeight}),!0):!1},o()}(jQuery,window,void 0);